javascript:(function()%7Bvar%20reg%20%3D%20(o%2C%20n)%20%3D%3E%20o%20%3F%20o%5Bn%5D%20%3A%20''%3Bvar%20cn%20%3D%20(o%2C%20s)%20%3D%3E%20o%20%3F%20o.getElementsByClassName(s)%20%3A%20console.log(o)%3Bvar%20tn%20%3D%20(o%2C%20s)%20%3D%3E%20o%20%3F%20o.getElementsByTagName(s)%20%3A%20console.log(o)%3Bvar%20gi%20%3D%20(o%2C%20s)%20%3D%3E%20o%20%3F%20o.getElementById(s)%20%3A%20console.log(o)%3Bvar%20delay%20%3D%20(ms)%20%3D%3E%20new%20Promise(res%20%3D%3E%20setTimeout(res%2C%20ms))%3Bvar%20ele%20%3D%20(t)%20%3D%3E%20document.createElement(t)%3Bvar%20attr%20%3D%20(o%2C%20k%2C%20v)%20%3D%3E%20o.setAttribute(k%2C%20v)%3Bvar%20a%20%3D%20(l%2C%20r)%20%3D%3E%20r.forEach(a%20%3D%3E%20attr(l%2C%20a%5B0%5D%2C%20a%5B1%5D))%3Basync%20function%20getDetailsFromPage()%7Bvar%20url%20%3D%20window.location.href%3Bvar%20res%20%3D%20await%20fetch(url)%3Bvar%20text%20%3D%20await%20res.text()%3Bvar%20doc%20%3D%20new%20DOMParser().parseFromString(text%2C'text%2Fhtml')%3Bvar%20obj%20%3D%20%7Bupc%3A%20tn(doc%2C'upc')%20%26%26%20tn(doc%2C'upc').length%20%3F%20tn(doc%2C'upc')%5B0%5D.innerText.trim()%20%3A%20''%2Cproduct_name%3A%20cn(doc%2C'product-title__title')%20%26%26%20cn(doc%2C'product-title__title').length%20%3F%20cn(doc%2C'product-title__title')%5B0%5D.innerText.trim()%20%3A%20%20''%2Ccurrent_price%3A%20gi(doc%2C'ajaxPrice')%20%26%26%20gi(doc%2C'ajaxPrice').getAttribute('content')%20%26%26%20%2F%5E%5B%5Cd%5C.%5D%2B%24%2F.test(gi(doc%2C'ajaxPrice').getAttribute('content').trim())%20%3F%20parseFloat(gi(doc%2C'ajaxPrice').getAttribute('content').trim())%20%3A%200%2Coriginal_price%3A%20cn(doc%2C'pStrikeThru')%20%26%26%20%20cn(doc%2C'pStrikeThru').length%20%26%26%20%20%2F%5E%5B%5Cd%5C.%5D%2B%24%2F.test(cn(doc%2C'pStrikeThru')%5B0%5D.innerText.trim().replace(%2F%5C%24%2Fg%2C%20''))%20%3F%20parseFloat(cn(doc%2C'pStrikeThru')%5B0%5D.innerText.trim().replace(%2F%5C%24%2Fg%2C%20''))%20%3A%200%2C%2F*note%3A%20this%20will%20show%20as%20zero%20if%20there%20is%20an%20error%2C%20so%20need%20to%20account%20for%20that%20somewhere%20else%20within%20the%20price%20check%20conditions.*%2F%7D%3BcopyToClip(obj)%3B%7Dasync%20function%20copyToClip(obj)%7Bvar%20temp%20%3D%20ele('textarea')%3Bdocument.body.appendChild(temp)%3Btemp.value%20%3D%20Object.entries(obj).map(t%3D%3E%20t%5B1%5D).reduce((a%2Cb)%3D%3E%20a%2B'%5Ct'%2Bb)%3B%2F*%20temp.value%20%3D%20obj.upc%3B%20*%2Ftemp.select()%3Bdocument.execCommand('copy')%3Bawait%20delay(1)%3Btemp.outerHTML%20%3D%20''%3B%7DgetDetailsFromPage()%7D)()
